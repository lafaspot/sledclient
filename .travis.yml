branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: HwX1jwoWRE7oWsvw2PS/9F6GmTC7frnS0p+xqeHsT8zYv23wB3Lnq7Dt4FzR7UeuU6VAmtzh9pChlDcJxEqOCNPXwfnZ+Ld+kZQ0g5Bh/2A+7u/4Hx2Rih0cg49FJMFcF9Mykp9oDUXP4cAKFLtOC/0AXMAEC9AsAAAVEMrMWtR6AGk48c11m+9FICjSLAyhr9p+66nVtWgcwbB5jF881v9AISyumrRWmaluy4KGlltv2ls2VNXBQnOPw9a3Id2VpRV+fKL3Ds+BmnhOe/8UfGYTzz/d460IRkZRiiYDUQKM9GSrgMTLecGVGMEysO5jsLtxlg5Diw2R883QD9K0tOYmHo/Wj9kUDVnEPbOVZp78qkB5Ho3I6orLgGyVEim1/U952ZgkobYIRnsvKuveU548+5ielRmnDSkBmRaE1z6fVJnHKrZNk+dpC9YJLtOcWQx2R8ymNxGlf6oQfiZBWofnboyVv5LguieALPsRBw26/7ssxgZsHqxDx1V9f0vIJZbVyaRrkTsIPUelqQfxI4y8nMtYr7S+3yuRtEfdNs+glzraEbDgMcfqlRJiZB4an7YORDpugzvPEwjDo0B7RhxF1WgiOgQMmeJt3zajPAQICMYHKE4d0tostlGWyHHnrY2UAh7bDC963nPgVDCpE9ZZG8INhEu5U3QtpiFY4cI=
  - secure: nSQNSUiN49WP/xgcd36w/MzcSNdAz0lgMp2tI2rGvr1mAq1xxvLsdcWFHqUBYdUxDzdCoIJPY754vzbmYgbP6HyF0YXpYBReYHeE2EUIhjucrrJFG/NW51ZkD3I0464ZvrmAOFiC+2KY+/UwbDnUA/Mdo/kSowLZp3RVFtNHKS7Xnn1RlBWDx+0y0HKLuo7fcE7r3Lb1LW9PgmlY1lmlNDa7X82Zkk0IJPDntt+TGHc8tLzWl1ZcxF0t9AJObN3WJtN98atBwbXqm7pJebq+WIJzhUw4/qFoyKcTWH+F1QhddwcqAIts7Hs6U8O+2FiQZk4we/HZH6xjsjSWfuXRmf357N6A/ivqpIi2lYG4LdaVp75oopI8e2eT045nnHWSXe4vg1QfsykMl66nbiE9d6V4bVv40Inwgy7/mjk3iBsjiJRo9rljMeFVV6qE04sTJzIJsiD3dklYpQhd6P9/9fRSZHR4qf5QtwmCNKHH0f4+uw9IZ/M/SBEc033Xnv1X9XwUFZFFmBK6lyoNydKnSAYIAcRzRLBhnxfbZRoW8y7kfPdvqyvcb7BK2TKjqd+0LnJgXHuVimhA5nG7bKTK07vCRu3DMZWX94As0HLWLVZhsO8RWB6EvC5Lyxe/fQp1BlfDxh+3s9qdB/X24QKKh4JK1qHmH1LMjpZ8L9qJjNE=
  - secure: bQPaa57LHghqTNJ7YGQoXUxBIX4Ana7jdCxzA18WFWkekfNwfaEUoznUQf2Binm5g3EP6oEz292S4otqMWtA9f+ytkpLg0kr8wc40bq6JxvCIBZleozQ+2wV+BxwH4SU1XPiNeqGCgswWm1fg3ZXxVk/3g3uExNsF08OVokgtvDknucat6YmIptY/63TfdGOdahNV7/eFposGLaZJlj6ODeCae5so4xhRzkDxYJN/s8XYGfmWnrIkKWxUmBQhgxKrmDuM8Dp4l76mOPgNm5qxqR6omhNgdnxiz2rOeTrvI/zg/6xs5Vay57NiM8FxipYKDvaLEZ4WGiDtXgakRxsXcV23lTdVw5LK7xljP4NkCLhQdkAGQ+jkU4IURRdh09wUkkV5da+HSTL39f26p82GVif+OEDEYfNWJVvZv54dKVwX+A2Ctcnfe2Y4KG06WxYYqBtxyg9cibQbsLCuUj0VE8AlrjRotcoyO8WbxlNwKsJwT6MgOPk8QqfGLIYOoBECoeFR+0G3XSUGSw38YQo5CohCLqxDr+YbTwaNZfH+DOcwI4pMufe0HrRd3Nz8Sti4jJ3/on5XmsUb275/sGJRNIotX9RnxeJZ25aQOYCeB6U+fm69JaoVmJsMzuY7OlhfvrTQPHTvdn42r6KrE7A7mXmwcATyRX0sj7I5LsWDVw=
  - secure: VHhOicIi0LTauGv24C45KNSnrd9lCq9oxaQ8kM8rV8/WVda0FcYBR/U9cxLE+d9M0mU102kVuYoLnruQrzlinrz30N5/cuNgVpTtvIyBQuaSKigV+MDE32vlo68CyFCm1OlXTNjUhrGkxuMkaAuMWTeiT8cNzOS7WW4y+9S4AcQCymFbvvaFm7SXViH7YVlNNluFs+ICuzwwORALh+QC45Q6D4JCJkfzWgTaKk6+9Jti4BLq/txOMmUBpw5pRVUTd4SpAcmIhiYYM2MYc1fCFkSi8eFdIadVsvU/6Y4DGYxJLIp8h2s77ASrvqML80aQM1nBSHIXOiJ9xun9j9VwADiUxZr+irBVVNh+MDiRZULuy2kzEYNNgA0fMM5HtltrTidWHLiJTAE2ORHzF0E7mL2l0DVY3tgPuoOcnlt47eboA6TBtsOyKkUgK1DMerStO0VG1iL1h4B9/x2vdrIu+W/AQXN+y3jrenIuQTXZh5WoVnvw5uvkj4kCPM4QXO9NMmHLCOL+1AJBTSygpI9HIKlEajTw/+a0EzPjrByit90NOxKXv/ENC0XsbdMd5GcPkSAHhWmggdhauJr3919MUgqH38xKcvcH7syNRNC93rUzqJw+CqCdvzjsWOeRrTAUwAxbt5stRDa4u8rG9X0u/TRS95EbQg09qdYoedUuPnQ=
jdk:
- oraclejdk8
before_install: 
install:
- mvn install -Dgpg.skip=true -P !build-extras -B -V
before_script: 
script: mvn test -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure: 
